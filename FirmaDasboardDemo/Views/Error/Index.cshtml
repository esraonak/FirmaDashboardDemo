@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="utf-8" />
    <title>Hata Oluştu</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet" />
</head>
<body class="bg-light">

    <div class="container mt-5">
        <!-- Hata mesajı -->
        <div class="alert alert-warning d-flex align-items-center" role="alert">
            <i class="bi bi-exclamation-triangle-fill me-2"></i>
            <div>
                <strong>Üzgünüz, bir hata ile karşılaştık.</strong><br />
                Lütfen aşağıdaki formu doldurarak bu hatayla karşılaştığınız durumu bize bildirin.
            </div>
        </div>

        <!-- Hata bilgileri -->
        <div class="mb-4">
            <p><strong>Hata Zamanı:</strong> @DateTime.Now.ToString("dd.MM.yyyy HH:mm")</p>
            <p><strong>Kullanıcı Rolü:</strong> @ViewBag.KullaniciRol</p>
            <p><strong>Hata Oluşan Sayfa:</strong> @ViewBag.SonUrl</p>
        </div>

        <!-- Bildirim formu -->
        <form method="post" action="/Error/Bildir">


            <div class="mb-3">
                <label class="form-label">Ne yapmak isterken bu hatayla karşılaştınız?</label>
                <textarea name="aciklama" class="form-control" rows="4" required></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Bildirimi Gönder</button>
        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

    @if (ViewBag.Mesaj != null)
    {
        <script>
            toastr.success('@ViewBag.Mesaj', 'Teşekkürler');
        </script>
    }
</body>
</html>
